{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/dashboard/status-panel.tsx"],"sourcesContent":["'use client';\nimport type { AlertLevel } from '@/lib/types';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { ShieldCheck, AlertTriangle, Siren, ShieldOff, Bell } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ntype StatusInfo = {\n  icon: React.ElementType;\n  label: string;\n  className: string;\n  description: string;\n};\n\nconst statusMap: Record<AlertLevel, StatusInfo> = {\n  NORMAL: {\n    icon: ShieldCheck,\n    label: 'All Clear',\n    description: 'Systems are operating normally. No threats detected.',\n    className: 'text-status-normal',\n  },\n  LOW_RISK: {\n    icon: Bell,\n    label: 'Caution Advised',\n    description: 'Slight anomalies detected. Remain aware of your surroundings.',\n    className: 'text-status-low',\n  },\n  MEDIUM_RISK: {\n    icon: AlertTriangle,\n    label: 'Potential Threat',\n    description: 'Potential distress signals identified. System is on high alert.',\n    className: 'text-status-medium animate-pulse',\n  },\n  HIGH_RISK: {\n    icon: Siren,\n    label: 'High Alert',\n    description: 'Multiple distress indicators confirmed. Escalation may be required.',\n    className: 'text-status-high animate-pulse [animation-duration:1s]',\n  },\n  EMERGENCY: {\n    icon: ShieldOff,\n    label: 'SOS Broadcast',\n    description: 'Emergency protocol initiated. Your contacts are being notified.',\n    className: 'text-status-emergency',\n  },\n};\n\nexport function StatusPanel({ alertLevel }: { alertLevel: AlertLevel }) {\n  const { icon: Icon, label, description, className } = statusMap[alertLevel];\n\n  return (\n    <Card className={cn(\n        \"w-full border-secondary/20 bg-card shadow-xl transition-all duration-500\", \n        alertLevel === 'EMERGENCY' ? 'border-status-emergency/50 bg-status-emergency/10' : ''\n    )}>\n      <CardContent className=\"flex flex-col items-center justify-center p-8 text-center md:p-12\">\n        <div className=\"relative\">\n            {alertLevel === 'EMERGENCY' && <div className=\"absolute h-full w-full animate-ping rounded-full bg-status-emergency/50\"></div>}\n            <div className={cn('relative z-10 rounded-full bg-secondary/30 p-4 transition-all', {'bg-status-emergency/20': alertLevel === 'EMERGENCY'})}>\n                <Icon className={cn('h-20 w-20 transition-colors md:h-24 md:w-24', className)} />\n            </div>\n        </div>\n        <h1 className={cn('mt-6 font-headline text-4xl font-bold tracking-tighter transition-colors md:text-5xl', className)}>\n          {label}\n        </h1>\n        <p className=\"mt-2 max-w-2xl text-base text-muted-foreground md:text-lg\">{description}</p>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;;;;;AAaA,MAAM,YAA4C;IAChD,QAAQ;QACN,MAAM,oNAAA,CAAA,cAAW;QACjB,OAAO;QACP,aAAa;QACb,WAAW;IACb;IACA,UAAU;QACR,MAAM,kMAAA,CAAA,OAAI;QACV,OAAO;QACP,aAAa;QACb,WAAW;IACb;IACA,aAAa;QACX,MAAM,wNAAA,CAAA,gBAAa;QACnB,OAAO;QACP,aAAa;QACb,WAAW;IACb;IACA,WAAW;QACT,MAAM,oMAAA,CAAA,QAAK;QACX,OAAO;QACP,aAAa;QACb,WAAW;IACb;IACA,WAAW;QACT,MAAM,gNAAA,CAAA,YAAS;QACf,OAAO;QACP,aAAa;QACb,WAAW;IACb;AACF;AAEO,SAAS,YAAY,EAAE,UAAU,EAA8B;IACpE,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG,SAAS,CAAC,WAAW;IAE3E,qBACE,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACd,4EACA,eAAe,cAAc,sDAAsD;kBAErF,cAAA,8OAAC,gIAAA,CAAA,cAAW;YAAC,WAAU;;8BACrB,8OAAC;oBAAI,WAAU;;wBACV,eAAe,6BAAe,8OAAC;4BAAI,WAAU;;;;;;sCAC9C,8OAAC;4BAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iEAAiE;gCAAC,0BAA0B,eAAe;4BAAW;sCACrI,cAAA,8OAAC;gCAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,+CAA+C;;;;;;;;;;;;;;;;;8BAG3E,8OAAC;oBAAG,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,wFAAwF;8BACvG;;;;;;8BAEH,8OAAC;oBAAE,WAAU;8BAA6D;;;;;;;;;;;;;;;;;AAIlF","debugId":null}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/dashboard/sensor-card.tsx"],"sourcesContent":["'use client';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { cn } from '@/lib/utils';\nimport type { AlertLevel } from '@/lib/types';\n\ninterface SensorCardProps {\n  icon: React.ElementType;\n  name: string;\n  statusText: string;\n  isActive: boolean;\n  alertLevel: AlertLevel;\n}\n\nexport function SensorCard({ icon: Icon, name, statusText, isActive, alertLevel }: SensorCardProps) {\n    \n  const getStatusColor = () => {\n    if (!isActive) return 'bg-muted-foreground';\n    switch (alertLevel) {\n        case 'NORMAL': return 'bg-status-normal';\n        case 'LOW_RISK': return 'bg-status-low';\n        case 'MEDIUM_RISK': return 'bg-status-medium animate-pulse';\n        case 'HIGH_RISK': return 'bg-status-high animate-pulse';\n        case 'EMERGENCY': return 'bg-status-emergency animate-ping';\n        default: return 'bg-status-normal';\n    }\n  }\n\n  return (\n    <Card className=\"border-secondary/20 bg-card shadow-md transition-all hover:border-accent\">\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n        <CardTitle className=\"text-base font-medium font-headline\">{name}</CardTitle>\n        <Icon className=\"h-5 w-5 text-muted-foreground\" />\n      </CardHeader>\n      <CardContent>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"relative flex h-3 w-3\">\n            <span className={cn('absolute inline-flex h-full w-full rounded-full opacity-75', getStatusColor())} />\n            <span className={cn('relative inline-flex h-3 w-3 rounded-full', getStatusColor().split(' ')[0])} />\n          </div>\n          <p className=\"text-sm text-muted-foreground\">{isActive ? statusText : 'Inactive'}</p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAaO,SAAS,WAAW,EAAE,MAAM,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAmB;IAEhG,MAAM,iBAAiB;QACrB,IAAI,CAAC,UAAU,OAAO;QACtB,OAAQ;YACJ,KAAK;gBAAU,OAAO;YACtB,KAAK;gBAAY,OAAO;YACxB,KAAK;gBAAe,OAAO;YAC3B,KAAK;gBAAa,OAAO;YACzB,KAAK;gBAAa,OAAO;YACzB;gBAAS,OAAO;QACpB;IACF;IAEA,qBACE,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC,gIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,8OAAC,gIAAA,CAAA,YAAS;wBAAC,WAAU;kCAAuC;;;;;;kCAC5D,8OAAC;wBAAK,WAAU;;;;;;;;;;;;0BAElB,8OAAC,gIAAA,CAAA,cAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8DAA8D;;;;;;8CAClF,8OAAC;oCAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,6CAA6C,iBAAiB,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;;;;;;;sCAEjG,8OAAC;4BAAE,WAAU;sCAAiC,WAAW,aAAa;;;;;;;;;;;;;;;;;;;;;;;AAKhF","debugId":null}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/dashboard/sensor-status.tsx"],"sourcesContent":["'use client';\nimport { Video, MapPin, PersonStanding, Mic } from 'lucide-react';\nimport { SensorCard } from './sensor-card';\nimport type { AlertLevel } from '@/lib/types';\nimport { useState, useEffect } from 'react';\n\nconst sensorStatusMap: Record<AlertLevel, Record<string, string>> = {\n    NORMAL: {\n        Audio: 'Monitoring Ambient Sound',\n        Vision: 'Analyzing Surroundings',\n        Location: 'Establishing Geofence',\n        Motion: 'Calibrating Gyroscope'\n    },\n    LOW_RISK: {\n        Audio: 'Elevated Voice Detected',\n        Vision: 'Unusual Motion Detected',\n        Location: 'High-Traffic Area',\n        Motion: 'Irregular Movement'\n    },\n    MEDIUM_RISK: {\n        Audio: 'Possible Distress Keywords',\n        Vision: 'Face Occlusion Detected',\n        Location: 'Entering Risky Area',\n        Motion: 'Sudden Stop Detected'\n    },\n    HIGH_RISK: {\n        Audio: 'Scream Detected',\n        Vision: 'Fall Detected',\n        Location: 'Known Incident Hotspot',\n        Motion: 'Erratic Motion Detected'\n    },\n    EMERGENCY: {\n        Audio: 'Continuous Distress Signal',\n        Vision: 'User Unresponsive',\n        Location: 'Last Known Coordinates',\n        Motion: 'No Movement'\n    }\n}\n\nexport function SensorStatus({ alertLevel }: { alertLevel: AlertLevel }) {\n  const [hasPermission, setHasPermission] = useState({\n    audio: false,\n    vision: false,\n    location: false,\n    motion: false,\n  });\n\n  useEffect(() => {\n    navigator.mediaDevices.enumerateDevices().then(devices => {\n      const audio = devices.some(d => d.kind === 'audioinput' && d.label);\n      const video = devices.some(d => d.kind === 'videoinput' && d.label);\n      setHasPermission(prev => ({...prev, audio, vision: video}));\n    });\n\n    navigator.permissions.query({name:'geolocation'}).then(permissionStatus => {\n        setHasPermission(prev => ({...prev, location: permissionStatus.state === 'granted'}));\n        permissionStatus.onchange = () => {\n            setHasPermission(prev => ({...prev, location: permissionStatus.state === 'granted'}));\n        }\n    });\n\n    if (typeof (DeviceMotionEvent as any).requestPermission === 'function') {\n      (DeviceMotionEvent as any).requestPermission()\n        .then((permissionState: string) => {\n          if (permissionState === 'granted') {\n            setHasPermission(prev => ({...prev, motion: true}));\n          }\n        })\n    } else {\n        window.addEventListener('devicemotion', () => setHasPermission(prev => ({...prev, motion: true})), {once: true});\n    }\n\n  }, []);\n  \n  const statuses = sensorStatusMap[alertLevel];\n\n  return (\n    <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4\">\n      <SensorCard\n        name=\"Audio Monitoring\"\n        icon={Mic}\n        isActive={hasPermission.audio}\n        statusText={statuses.Audio}\n        alertLevel={alertLevel}\n      />\n      <SensorCard\n        name=\"Vision Detection\"\n        icon={Video}\n        isActive={hasPermission.vision}\n        statusText={statuses.Vision}\n        alertLevel={alertLevel}\n      />\n       <SensorCard\n        name=\"Motion Analysis\"\n        icon={PersonStanding}\n        isActive={hasPermission.motion}\n        statusText={statuses.Motion}\n        alertLevel={alertLevel}\n      />\n      <SensorCard\n        name=\"Location Context\"\n        icon={MapPin}\n        isActive={hasPermission.location}\n        statusText={statuses.Location}\n        alertLevel={alertLevel}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAJA;;;;;AAMA,MAAM,kBAA8D;IAChE,QAAQ;QACJ,OAAO;QACP,QAAQ;QACR,UAAU;QACV,QAAQ;IACZ;IACA,UAAU;QACN,OAAO;QACP,QAAQ;QACR,UAAU;QACV,QAAQ;IACZ;IACA,aAAa;QACT,OAAO;QACP,QAAQ;QACR,UAAU;QACV,QAAQ;IACZ;IACA,WAAW;QACP,OAAO;QACP,QAAQ;QACR,UAAU;QACV,QAAQ;IACZ;IACA,WAAW;QACP,OAAO;QACP,QAAQ;QACR,UAAU;QACV,QAAQ;IACZ;AACJ;AAEO,SAAS,aAAa,EAAE,UAAU,EAA8B;IACrE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACjD,OAAO;QACP,QAAQ;QACR,UAAU;QACV,QAAQ;IACV;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,UAAU,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAA;YAC7C,MAAM,QAAQ,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,gBAAgB,EAAE,KAAK;YAClE,MAAM,QAAQ,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,gBAAgB,EAAE,KAAK;YAClE,iBAAiB,CAAA,OAAQ,CAAC;oBAAC,GAAG,IAAI;oBAAE;oBAAO,QAAQ;gBAAK,CAAC;QAC3D;QAEA,UAAU,WAAW,CAAC,KAAK,CAAC;YAAC,MAAK;QAAa,GAAG,IAAI,CAAC,CAAA;YACnD,iBAAiB,CAAA,OAAQ,CAAC;oBAAC,GAAG,IAAI;oBAAE,UAAU,iBAAiB,KAAK,KAAK;gBAAS,CAAC;YACnF,iBAAiB,QAAQ,GAAG;gBACxB,iBAAiB,CAAA,OAAQ,CAAC;wBAAC,GAAG,IAAI;wBAAE,UAAU,iBAAiB,KAAK,KAAK;oBAAS,CAAC;YACvF;QACJ;QAEA,IAAI,OAAO,AAAC,kBAA0B,iBAAiB,KAAK,YAAY;YACrE,kBAA0B,iBAAiB,GACzC,IAAI,CAAC,CAAC;gBACL,IAAI,oBAAoB,WAAW;oBACjC,iBAAiB,CAAA,OAAQ,CAAC;4BAAC,GAAG,IAAI;4BAAE,QAAQ;wBAAI,CAAC;gBACnD;YACF;QACJ,OAAO;YACH,OAAO,gBAAgB,CAAC,gBAAgB,IAAM,iBAAiB,CAAA,OAAQ,CAAC;wBAAC,GAAG,IAAI;wBAAE,QAAQ;oBAAI,CAAC,IAAI;gBAAC,MAAM;YAAI;QAClH;IAEF,GAAG,EAAE;IAEL,MAAM,WAAW,eAAe,CAAC,WAAW;IAE5C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,iJAAA,CAAA,aAAU;gBACT,MAAK;gBACL,MAAM,gMAAA,CAAA,MAAG;gBACT,UAAU,cAAc,KAAK;gBAC7B,YAAY,SAAS,KAAK;gBAC1B,YAAY;;;;;;0BAEd,8OAAC,iJAAA,CAAA,aAAU;gBACT,MAAK;gBACL,MAAM,oMAAA,CAAA,QAAK;gBACX,UAAU,cAAc,MAAM;gBAC9B,YAAY,SAAS,MAAM;gBAC3B,YAAY;;;;;;0BAEb,8OAAC,iJAAA,CAAA,aAAU;gBACV,MAAK;gBACL,MAAM,0NAAA,CAAA,iBAAc;gBACpB,UAAU,cAAc,MAAM;gBAC9B,YAAY,SAAS,MAAM;gBAC3B,YAAY;;;;;;0BAEd,8OAAC,iJAAA,CAAA,aAAU;gBACT,MAAK;gBACL,MAAM,0MAAA,CAAA,SAAM;gBACZ,UAAU,cAAc,QAAQ;gBAChC,YAAY,SAAS,QAAQ;gBAC7B,YAAY;;;;;;;;;;;;AAIpB","debugId":null}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/dashboard/risk-assessment.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Globe, Clock, ShieldAlert } from 'lucide-react';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { cn } from '@/lib/utils';\nimport type { AlertLevel } from '@/lib/types';\n\ninterface RiskAssessmentProps {\n    alertLevel: AlertLevel;\n    setAlertLevel: (level: AlertLevel) => void;\n}\n\nexport function RiskAssessment({ alertLevel, setAlertLevel }: RiskAssessmentProps) {\n  const [location, setLocation] = useState<string | null>(null);\n  const [time, setTime] = useState<string>('--:--:--');\n  const [riskScore, setRiskScore] = useState<number>(0);\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const { latitude, longitude } = position.coords;\n          setLocation(`${latitude.toFixed(2)}°, ${longitude.toFixed(2)}°`);\n        },\n        () => {\n          setLocation('Permission Denied');\n        }\n      );\n    } else {\n      setLocation('Not Supported');\n    }\n\n    const intervalId = setInterval(() => {\n      const now = new Date();\n      setTime(now.toLocaleTimeString());\n      \n      const hour = now.getHours();\n      let score = 20;\n      if (hour < 6 || hour > 20) {\n        score += 40;\n      }\n      if (location && (location === 'Permission Denied' || location === 'Not Supported')) {\n        score += 15;\n      }\n      const newRiskScore = Math.min(100, score);\n      setRiskScore(newRiskScore);\n\n      if (alertLevel !== 'EMERGENCY') {\n        if (newRiskScore > 75) {\n            setAlertLevel('HIGH_RISK');\n        } else if (newRiskScore > 50) {\n            setAlertLevel('MEDIUM_RISK');\n        } else if (newRiskScore > 25) {\n            setAlertLevel('LOW_RISK');\n        } else {\n            setAlertLevel('NORMAL');\n        }\n      }\n\n    }, 1000);\n\n    return () => clearInterval(intervalId);\n  }, [location, setAlertLevel, alertLevel]);\n\n  const getRiskColor = (score: number) => {\n    if (score > 75) return 'text-status-high';\n    if (score > 50) return 'text-status-medium';\n    if (score > 25) return 'text-status-low';\n    return 'text-status-normal';\n  };\n\n  return (\n    <Card className=\"border-secondary/20 bg-card shadow-md h-full\">\n      <CardHeader>\n        <CardTitle className=\"font-headline text-lg\">Contextual Risk</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4 text-sm\">\n        <div className=\"flex items-center\">\n          <Globe className=\"mr-3 h-5 w-5 text-muted-foreground\" />\n          <span className=\"font-medium\">Location:</span>\n          {location ? <span className=\"ml-2 font-mono\">{location}</span> : <Skeleton className=\"ml-2 h-4 w-32\" />}\n        </div>\n        <div className=\"flex items-center\">\n          <Clock className=\"mr-3 h-5 w-5 text-muted-foreground\" />\n          <span className=\"font-medium\">Time:</span>\n          <span className=\"ml-2 font-mono\">{time}</span>\n        </div>\n        <div className=\"flex items-center\">\n          <ShieldAlert className=\"mr-3 h-5 w-5 text-muted-foreground\" />\n          <span className=\"font-medium\">Dynamic Risk Score:</span>\n          <span className={cn('ml-2 font-bold font-mono', getRiskColor(riskScore))}>{riskScore} / 100</span>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;AAcO,SAAS,eAAe,EAAE,UAAU,EAAE,aAAa,EAAuB;IAC/E,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAEnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU,WAAW,EAAE;YACzB,UAAU,WAAW,CAAC,kBAAkB,CACtC,CAAC;gBACC,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,SAAS,MAAM;gBAC/C,YAAY,GAAG,SAAS,OAAO,CAAC,GAAG,GAAG,EAAE,UAAU,OAAO,CAAC,GAAG,CAAC,CAAC;YACjE,GACA;gBACE,YAAY;YACd;QAEJ,OAAO;YACL,YAAY;QACd;QAEA,MAAM,aAAa,YAAY;YAC7B,MAAM,MAAM,IAAI;YAChB,QAAQ,IAAI,kBAAkB;YAE9B,MAAM,OAAO,IAAI,QAAQ;YACzB,IAAI,QAAQ;YACZ,IAAI,OAAO,KAAK,OAAO,IAAI;gBACzB,SAAS;YACX;YACA,IAAI,YAAY,CAAC,aAAa,uBAAuB,aAAa,eAAe,GAAG;gBAClF,SAAS;YACX;YACA,MAAM,eAAe,KAAK,GAAG,CAAC,KAAK;YACnC,aAAa;YAEb,IAAI,eAAe,aAAa;gBAC9B,IAAI,eAAe,IAAI;oBACnB,cAAc;gBAClB,OAAO,IAAI,eAAe,IAAI;oBAC1B,cAAc;gBAClB,OAAO,IAAI,eAAe,IAAI;oBAC1B,cAAc;gBAClB,OAAO;oBACH,cAAc;gBAClB;YACF;QAEF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAU;QAAe;KAAW;IAExC,MAAM,eAAe,CAAC;QACpB,IAAI,QAAQ,IAAI,OAAO;QACvB,IAAI,QAAQ,IAAI,OAAO;QACvB,IAAI,QAAQ,IAAI,OAAO;QACvB,OAAO;IACT;IAEA,qBACE,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC,gIAAA,CAAA,aAAU;0BACT,cAAA,8OAAC,gIAAA,CAAA,YAAS;oBAAC,WAAU;8BAAwB;;;;;;;;;;;0BAE/C,8OAAC,gIAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAc;;;;;;4BAC7B,yBAAW,8OAAC;gCAAK,WAAU;0CAAkB;;;;;qDAAmB,8OAAC,oIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEvF,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAc;;;;;;0CAC9B,8OAAC;gCAAK,WAAU;0CAAkB;;;;;;;;;;;;kCAEpC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oNAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;0CACvB,8OAAC;gCAAK,WAAU;0CAAc;;;;;;0CAC9B,8OAAC;gCAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B,aAAa;;oCAAc;oCAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAK/F","debugId":null}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/dashboard/emergency-panel.tsx"],"sourcesContent":["'use client';\nimport type { AlertLevel } from '@/lib/types';\nimport { Button } from '@/components/ui/button';\nimport { PhoneForwarded, ShieldQuestion, Siren } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nexport function EmergencyPanel({ alertLevel, onManualTrigger }: { alertLevel: AlertLevel, onManualTrigger: () => void }) {\n  const isEmergency = alertLevel === 'EMERGENCY';\n\n  return (\n    <div className={cn(\n        \"mt-8 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-secondary/20 p-8 text-center transition-all\",\n        isEmergency ? \"border-status-emergency/40 bg-status-emergency/10\" : \"\"\n    )}>\n      {isEmergency ? (\n        <>\n          <div className=\"flex h-16 w-16 items-center justify-center rounded-full bg-status-emergency/20\">\n            <PhoneForwarded className=\"h-8 w-8 text-status-emergency\" />\n          </div>\n          <h3 className=\"mt-4 font-headline text-2xl font-bold text-status-emergency\">Emergency Alert Sent</h3>\n          <p className=\"mt-2 max-w-lg text-muted-foreground\">\n            Your emergency contacts have been notified with your current location and status. Help is on the way.\n          </p>\n        </>\n      ) : (\n        <>\n          <div className=\"flex h-16 w-16 items-center justify-center rounded-full bg-secondary/20\">\n            <ShieldQuestion className=\"h-8 w-8 text-primary\" />\n          </div>\n          <h3 className=\"mt-4 font-headline text-2xl font-bold\">Need Immediate Help?</h3>\n          <p className=\"mt-2 max-w-lg text-muted-foreground\">\n            If you are in danger, you can manually trigger an emergency alert. This will immediately notify your emergency contacts and local authorities.\n          </p>\n          <Button onClick={onManualTrigger} variant=\"destructive\" size=\"lg\" className=\"mt-6 font-bold\">\n            <Siren className=\"mr-2 h-5 w-5\" />\n            TRIGGER MANUAL SOS\n          </Button>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AACA;AAJA;;;;;AAMO,SAAS,eAAe,EAAE,UAAU,EAAE,eAAe,EAA2D;IACrH,MAAM,cAAc,eAAe;IAEnC,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACb,uIACA,cAAc,sDAAsD;kBAErE,4BACC;;8BACE,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,0NAAA,CAAA,iBAAc;wBAAC,WAAU;;;;;;;;;;;8BAE5B,8OAAC;oBAAG,WAAU;8BAA8D;;;;;;8BAC5E,8OAAC;oBAAE,WAAU;8BAAsC;;;;;;;yCAKrD;;8BACE,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,0NAAA,CAAA,iBAAc;wBAAC,WAAU;;;;;;;;;;;8BAE5B,8OAAC;oBAAG,WAAU;8BAAwC;;;;;;8BACtD,8OAAC;oBAAE,WAAU;8BAAsC;;;;;;8BAGnD,8OAAC,kIAAA,CAAA,SAAM;oBAAC,SAAS;oBAAiB,SAAQ;oBAAc,MAAK;oBAAK,WAAU;;sCAC1E,8OAAC,oMAAA,CAAA,QAAK;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;;;AAO9C","debugId":null}},
    {"offset": {"line": 895, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,8OAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 959, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/dashboard/camera-feed.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\nimport { useToast } from '@/hooks/use-toast';\nimport { Video } from 'lucide-react';\n\nexport function CameraFeed() {\n  const [hasCameraPermission, setHasCameraPermission] = useState<boolean | null>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    const getCameraPermission = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n        setHasCameraPermission(true);\n\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (error) {\n        console.error('Error accessing camera:', error);\n        setHasCameraPermission(false);\n        toast({\n          variant: 'destructive',\n          title: 'Camera Access Denied',\n          description: 'Please enable camera permissions in your browser settings to use this app.',\n        });\n      }\n    };\n\n    getCameraPermission();\n    \n    return () => {\n        if (videoRef.current && videoRef.current.srcObject) {\n            const stream = videoRef.current.srcObject as MediaStream;\n            stream.getTracks().forEach(track => track.stop());\n        }\n    }\n\n  }, [toast]);\n\n  return (\n    <Card className=\"border-secondary/20 bg-card shadow-md\">\n        <CardHeader>\n            <CardTitle className=\"font-headline text-lg flex items-center gap-2\"><Video className=\"h-5 w-5\" /> Live Feed</CardTitle>\n        </CardHeader>\n        <CardContent>\n            <div className=\"aspect-video w-full overflow-hidden rounded-md bg-muted\">\n                <video ref={videoRef} className=\"h-full w-full object-cover\" autoPlay muted playsInline />\n            </div>\n            {hasCameraPermission === false && (\n                <Alert variant=\"destructive\" className=\"mt-4\">\n                    <AlertTitle>Camera Access Required</AlertTitle>\n                    <AlertDescription>\n                        Please allow camera access to use this feature. You may need to change permissions in your browser settings.\n                    </AlertDescription>\n                </Alert>\n            )}\n        </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQO,SAAS;IACd,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IAC/E,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAoB;IAC1C,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,WAAQ,AAAD;IAEzB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,sBAAsB;YAC1B,IAAI;gBACF,MAAM,SAAS,MAAM,UAAU,YAAY,CAAC,YAAY,CAAC;oBAAE,OAAO;gBAAK;gBACvE,uBAAuB;gBAEvB,IAAI,SAAS,OAAO,EAAE;oBACpB,SAAS,OAAO,CAAC,SAAS,GAAG;gBAC/B;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;gBACzC,uBAAuB;gBACvB,MAAM;oBACJ,SAAS;oBACT,OAAO;oBACP,aAAa;gBACf;YACF;QACF;QAEA;QAEA,OAAO;YACH,IAAI,SAAS,OAAO,IAAI,SAAS,OAAO,CAAC,SAAS,EAAE;gBAChD,MAAM,SAAS,SAAS,OAAO,CAAC,SAAS;gBACzC,OAAO,SAAS,GAAG,OAAO,CAAC,CAAA,QAAS,MAAM,IAAI;YAClD;QACJ;IAEF,GAAG;QAAC;KAAM;IAEV,qBACE,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAU;;0BACZ,8OAAC,gIAAA,CAAA,aAAU;0BACP,cAAA,8OAAC,gIAAA,CAAA,YAAS;oBAAC,WAAU;;sCAAgD,8OAAC,oMAAA,CAAA,QAAK;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;0BAEtG,8OAAC,gIAAA,CAAA,cAAW;;kCACR,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAM,KAAK;4BAAU,WAAU;4BAA6B,QAAQ;4BAAC,KAAK;4BAAC,WAAW;;;;;;;;;;;oBAE1F,wBAAwB,uBACrB,8OAAC,iIAAA,CAAA,QAAK;wBAAC,SAAQ;wBAAc,WAAU;;0CACnC,8OAAC,iIAAA,CAAA,aAAU;0CAAC;;;;;;0CACZ,8OAAC,iIAAA,CAAA,mBAAgB;0CAAC;;;;;;;;;;;;;;;;;;;;;;;;AAQtC","debugId":null}},
    {"offset": {"line": 1098, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/dashboard/audio-visualizer.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { AreaChart, Area, XAxis, YAxis, ResponsiveContainer, Tooltip } from 'recharts';\nimport { AlertCircle, Mic } from 'lucide-react';\nimport type { AlertLevel } from '@/lib/types';\nimport { cn } from '@/lib/utils';\nimport { useToast } from '@/hooks/use-toast';\n\nconst MAX_DATA_POINTS = 50;\n\ntype AudioDataPoint = {\n  time: number;\n  volume: number;\n};\n\nexport function AudioVisualizer({ alertLevel }: { alertLevel: AlertLevel }) {\n  const [audioData, setAudioData] = useState<AudioDataPoint[]>([]);\n  const [hasMicPermission, setHasMicPermission] = useState<boolean | null>(null);\n  const audioContextRef = useRef<AudioContext | null>(null);\n  const analyserRef = useRef<AnalyserNode | null>(null);\n  const streamRef = useRef<MediaStream | null>(null);\n  const animationFrameRef = useRef<number>();\n  const { toast } = useToast();\n\n  useEffect(() => {\n    const setupAudioProcessing = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n        streamRef.current = stream;\n        setHasMicPermission(true);\n\n        const context = new (window.AudioContext || (window as any).webkitAudioContext)();\n        audioContextRef.current = context;\n        const source = context.createMediaStreamSource(stream);\n        const analyser = context.createAnalyser();\n        analyser.fftSize = 256;\n        source.connect(analyser);\n        analyserRef.current = analyser;\n\n        const dataArray = new Uint8Array(analyser.frequencyBinCount);\n\n        const updateVisualization = () => {\n          if (analyserRef.current) {\n            analyserRef.current.getByteTimeDomainData(dataArray);\n            let sum = 0;\n            for (let i = 0; i < dataArray.length; i++) {\n              sum += Math.abs(dataArray[i] - 128);\n            }\n            const average = sum / dataArray.length;\n            \n            setAudioData(prevData => {\n              const newData = [...prevData, { time: Date.now(), volume: average }];\n              return newData.length > MAX_DATA_POINTS ? newData.slice(newData.length - MAX_DATA_POINTS) : newData;\n            });\n          }\n          animationFrameRef.current = requestAnimationFrame(updateVisualization);\n        };\n        updateVisualization();\n\n      } catch (error) {\n        console.error('Error accessing microphone:', error);\n        setHasMicPermission(false);\n        toast({\n          variant: 'destructive',\n          title: 'Microphone Access Denied',\n          description: 'Please enable microphone permissions for audio analysis.',\n        });\n      }\n    };\n\n    setupAudioProcessing();\n\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n      if (streamRef.current) {\n        streamRef.current.getTracks().forEach(track => track.stop());\n      }\n      if (audioContextRef.current && audioContextRef.current.state !== 'closed') {\n        audioContextRef.current.close();\n      }\n    };\n  }, [toast]);\n  \n  const getAlertColor = (level: AlertLevel) => {\n    switch (level) {\n        case 'NORMAL': return 'hsl(var(--status-normal))';\n        case 'LOW_RISK': return 'hsl(var(--status-low))';\n        case 'MEDIUM_RISK': return 'hsl(var(--status-medium))';\n        case 'HIGH_RISK': return 'hsl(var(--status-high))';\n        case 'EMERGENCY': return 'hsl(var(--status-emergency))';\n        default: return 'hsl(var(--status-normal))';\n    }\n  }\n\n  const alertColor = getAlertColor(alertLevel);\n\n  return (\n    <Card className=\"border-secondary/20 bg-card shadow-md\">\n      <CardHeader>\n        <CardTitle className=\"font-headline text-lg flex items-center gap-2\"><Mic className=\"h-5 w-5\" /> Real-time Audio Analysis</CardTitle>\n      </CardHeader>\n      <CardContent>\n        {hasMicPermission === false ? (\n          <div className=\"flex flex-col items-center justify-center h-48 text-muted-foreground\">\n            <AlertCircle className=\"w-10 h-10 mb-2\" />\n            <p>Microphone access is required to display the audio graph.</p>\n          </div>\n        ) : (\n          <div className=\"h-48\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <AreaChart data={audioData} margin={{ top: 5, right: 20, left: -10, bottom: 5 }}>\n                <defs>\n                  <linearGradient id=\"colorVolume\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor={alertColor} stopOpacity={0.8}/>\n                    <stop offset=\"95%\" stopColor={alertColor} stopOpacity={0}/>\n                  </linearGradient>\n                </defs>\n                <XAxis dataKey=\"time\" hide={true} />\n                <YAxis domain={[0, 50]} hide={true} />\n                <Tooltip\n                  contentStyle={{\n                    backgroundColor: 'hsl(var(--background))',\n                    borderColor: 'hsl(var(--border))',\n                    fontSize: '12px',\n                    borderRadius: 'var(--radius)',\n                  }}\n                  labelFormatter={() => ''}\n                  formatter={(value: number) => [value.toFixed(2), 'Volume']}\n                />\n                <Area type=\"monotone\" dataKey=\"volume\" stroke={alertColor} strokeWidth={2} fill=\"url(#colorVolume)\" />\n              </AreaChart>\n            </ResponsiveContainer>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1390, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport type { AlertLevel } from '@/lib/types';\nimport { StatusPanel } from '@/components/dashboard/status-panel';\nimport { SensorStatus } from '@/components/dashboard/sensor-status';\nimport { RiskAssessment } from '@/components/dashboard/risk-assessment';\nimport { EmergencyPanel } from '@/components/dashboard/emergency-panel';\nimport { CameraFeed } from '@/components/dashboard/camera-feed';\nimport { AudioVisualizer } from '@/components/dashboard/audio-visualizer';\n\nexport default function Home() {\n  const [alertLevel, setAlertLevel] = useState<AlertLevel>('NORMAL');\n  const [currentYear, setCurrentYear] = useState(new Date().getFullYear());\n  \n  useEffect(() => {\n    setCurrentYear(new Date().getFullYear());\n  }, []);\n\n  const handleManualTrigger = () => {\n    setAlertLevel('EMERGENCY');\n  };\n\n  return (\n    <div className=\"flex min-h-screen w-full flex-col\">\n      <header className=\"sticky top-0 z-10 flex h-16 shrink-0 items-center justify-between gap-4 border-b bg-background/80 px-4 backdrop-blur-lg md:px-6\">\n        <h1 className=\"font-headline text-xl font-bold md:text-2xl\">SafeCity</h1>\n        <div className=\"flex items-center gap-2\">\n            <span className=\"rounded-full bg-primary px-3 py-1 text-xs font-medium text-primary-foreground\">v1.0</span>\n        </div>\n      </header>\n      <main className=\"flex-1 p-4 md:p-8 lg:p-12\">\n        <div className=\"mx-auto grid max-w-7xl items-start gap-8\">\n          <StatusPanel alertLevel={alertLevel} />\n          <div className=\"grid grid-cols-1 gap-8 lg:grid-cols-3\">\n            <div className=\"lg:col-span-2 grid gap-8\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                <CameraFeed />\n                <AudioVisualizer alertLevel={alertLevel} />\n              </div>\n              <SensorStatus alertLevel={alertLevel} />\n            </div>\n            <div className=\"lg:col-span-1\">\n              <RiskAssessment alertLevel={alertLevel} setAlertLevel={setAlertLevel} />\n            </div>\n          </div>\n          <EmergencyPanel alertLevel={alertLevel} onManualTrigger={handleManualTrigger} />\n        </div>\n      </main>\n      <footer className=\"mt-auto shrink-0 border-t px-4 py-4 md:px-6\">\n        <div className=\"mx-auto flex max-w-7xl items-center justify-between text-sm text-muted-foreground\">\n            <p>&copy; {currentYear} SafeCity. All rights reserved.</p>\n            <p className=\"font-headline\">Your Personal Guardian</p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAI,OAAO,WAAW;IAErE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe,IAAI,OAAO,WAAW;IACvC,GAAG,EAAE;IAEL,MAAM,sBAAsB;QAC1B,cAAc;IAChB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAK,WAAU;sCAAgF;;;;;;;;;;;;;;;;;0BAGtG,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,kJAAA,CAAA,cAAW;4BAAC,YAAY;;;;;;sCACzB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,iJAAA,CAAA,aAAU;;;;;8DACX,8OAAC,sJAAA,CAAA,kBAAe;oDAAC,YAAY;;;;;;;;;;;;sDAE/B,8OAAC,mJAAA,CAAA,eAAY;4CAAC,YAAY;;;;;;;;;;;;8CAE5B,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,qJAAA,CAAA,iBAAc;wCAAC,YAAY;wCAAY,eAAe;;;;;;;;;;;;;;;;;sCAG3D,8OAAC,qJAAA,CAAA,iBAAc;4BAAC,YAAY;4BAAY,iBAAiB;;;;;;;;;;;;;;;;;0BAG7D,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;;gCAAE;gCAAQ;gCAAY;;;;;;;sCACvB,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;;;;;;;;;;;;AAKzC","debugId":null}}]
}